@import "../../../shared/styles/_functions.sass"

$imgShape: rem(450) // match this with imgShape variable in productImages.tsx
$items-padding: rem(16)

.sn-product-page
  +onMaxSize(x-large)
    position: relative
    z-index: 4
    margin: -3.75rem -1rem 1.5rem
    background-image: url('/images/page-bg-light.webp')
    background-size: cover
  +onMinSize(x-large)
    &:after,
    &:before
      content: ''
      position: absolute
      left: 0
      top: 0
      z-index: -2
      width: 50vw
      height: 50vw
      background: var(--decoration-bg)
      clip-path: polygon(rem(430) 0, 100% 0%, 100% rem(680), rem(430) rem(680), 0 rem(350))
    &:before
      right: 0
      left: auto
    &::after
      transform: rotateY(180deg)
  +onMaxSize(x-large)
    padding-bottom: 0
    padding-top: 0
  &-images
    display: flex
    overflow: hidden
    margin-inline: auto
    width: 100%
    max-width: $imgShape
    border-radius: 0 0 rem(40) rem(40)
    aspect-ratio: 1/1.2
    img
      object-fit: cover
      height: auto
      width: 100%
      aspect-ratio: 1 / 1.2

  &-thumbnails
    display: none
    gap: rem(8)
    img
      border-radius: rem(10)
      background-color: var(--primary-light)
      transition: background-color 0.3s var(--ease-spring)
      &.active
        background-color: rgba($primary-color,0.3)
    // +onSizeRange(medium, x-large)
    //   display: flex
    //   flex-direction: column
    //   position: absolute
    //   top: rem(80)
    //   right: rem(24)

    +onMinSize(x-large)
      display: flex
      cursor: pointer

  &-slider
    display: flex
    justify-content: center
    gap: rem(4)
    // margin-bottom: rem(28)
    li
      button
        transform-origin: left
        font-size: 0
        border-radius: 50%
        width: rem(8)
        height: rem(8)
        background-color: rgba($primary-color, 0.5)
      &.active
        button
          border-radius: rem(8)
          width: rem(32)

  &-description
    overflow: hidden
    max-height: rem(145)
    color: var(--text)
    &-set
      padding-inline: $items-padding
  &-attribute
    display: flex
    align-items: center
    gap: rem(8)
    margin-top: rem(16)

    &-container
      padding-inline: $items-padding

    +onMinSize(x-large)
      margin-top: rem(24)

    &-heading
      font-weight: 550
      font-size: rem(18)
      color: rgba(0, 0, 0, 0.75)
    ul
      display: flex
      gap: rem(4)

      input[type="radio"]
        +hide-input
    .attribute-sizes-list
      label
        cursor: pointer
        padding-inline: rem(4)
        border-radius: rem(2)
      input:checked
        ~ label
          background-color: var(--primary-light)
          +onMinSize(x-large)
            background-color: var(--primary)
            color: var(--white)
    .attribute-colors-list
      gap: rem(8)
      label
        display: block
        cursor: pointer
        border-radius: 50%
        width: rem(20)
        height: rem(20)
        &.white
          border: rem(1) solid var(--border-dark)
      input:checked
        ~ label
          outline: rem(2) solid var(--primary)
          outline-offset: rem(2)

  &-accordion
    margin-top: rem(12)
    padding-bottom: rem(16)

  &-float
    display: flex
    align-items: center

    +onMaxSize(x-large)
      position: fixed
      z-index: 1
      bottom: rem(20)
      border-radius: rem(50)
      padding: rem(12) rem(12) rem(12) rem(20)
      width: calc(100% - rem(32))
      background-color: var(--primary-light)
      transition: bottom 0.3s var(--ease-spring)

    .btn-secondary
      line-height: 1
      gap: rem(8)
      +onMaxSize(x-large)
        box-shadow: none

  &-price
    display: flex
    flex-direction: column
    font-size: rem(24)
    +onMinSize(x-large)
      font-size: rem(28)
    .old-price
      text-decoration: line-through
      color: var(--border-dark)
      font-size: 0.5em
    .new-price
      font-weight: 700
      font-size: 1em

  .attribute-qty
    display: flex
    align-items: center
    gap: rem(4)
    padding: rem(8)
    border-radius: rem(30)
    background: var(--secondary-light)
    input
      background: none
      border: none
      text-align: center
      font-weight: 600
      font-size: rem(18)
      width: rem(20)
      height: rem(20)
    button
      display: grid
      place-items: center
      width: rem(18)
      height: rem(18)
      color: var(--secondary)
  .page-back-btn
    +onMaxSize(x-large)
      display: grid
      place-items: center
      position: relative
      border-radius: 50%
      width: rem(40)
      height: rem(40)
      margin: rem(8)
      color: var(--white)
      background: rgba(#000, 0.75)
      span
        display: none
    +onMinSize(x-large)
      display: flex
      align-items: center
      font-weight: 600
      gap: rem(8)
      color: var(--text)

    svg
      transform: rotate(-90deg)

  h2
    margin-block: rem(24) rem(12)
    padding-inline: $items-padding

.slider-track
  transition: transform 0.3s var(--ease-spring)

.btn-expand
  background-color: rgba(#000, 0.75)
  color: var(--white)
  min-width: rem(40)
  width: rem(40)
  height: rem(40)
  margin: rem(8)
  border-radius: 50%
  svg
    margin-left: rem(2)

.sn-input-read-more
  +hide-input
  &:checked
    ~ .para-dots
      display: none
    ~ .btn-read-more
      .read-more-text
        display: none
      .read-less-text
        display: inline
    ~ .sn-product-page-description
      max-height: initial

.btn-read-more
  cursor: pointer
  color: var(--primary)

.para-dots
  position: absolute
  right: rem(16)
  bottom: rem(24)

.sn-product-body
  .sn-header
    display: none

.btn-wishlist-float
  background-color: var(--page-color-red-light)
  color: var(--white)
  width: rem(48)
  height: rem(48)
  border-radius: 50%
  display: grid
  place-items: center
  margin-left: auto
  margin-right: rem(16)

//Grid Related changes
.sn-product-page
  display: grid
  &-images
    grid-row: 1
    grid-column: 1
  .page-back-btn,
  .btn-expand
    grid-row: 1
    grid-column: 1
    z-index: 2
  .btn-expand
    justify-self: flex-end

// Grid Changes end
